(this["webpackJsonptwitch-check-follows-react"]=this["webpackJsonptwitch-check-follows-react"]||[]).push([[0],{39:function(e,t,n){e.exports=n(53)},44:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a,r,c,s=n(0),o=n.n(s),i=n(21),l=n.n(i),h=(n(44),n(10)),u=n(18),d=n(19),p=n(13),f=n(30),m=n(29),w=d.a.div(a||(a=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  height: 100vh;\n  width: 100vw;\n  opacity: ",";\n  background-color: #000;\n  display: ",";\n"])),(function(e){return e.isOpen?"0.4":"0"}),(function(e){return e.isOpen?"block":"none"})),v=d.a.ul(r||(r=Object(u.a)(["\n  flex-flow: column nowrap;\n  z-index: 20;\n  list-style: none;\n  background-color: #1e2021;\n  padding-left: 0;\n  position: fixed;\n  margin: 0;\n  transform: ",";\n  top: 0;\n  right: 0;\n  height: 100vh;\n  width: 300px;\n  padding-top: 75px;\n  font-size: 25px;\n  transition: transform 0.3s ease-in-out;\n  li:hover {\n    background-color: #2f3333;\n    transition: all 0.25s ease;\n  }\n  li:active {\n    background-color: #404548;\n    transition: all 0.25s ease;\n  }\n  li {\n    padding: 2vh 0;\n    cursor: pointer;\n  }\n  #head {\n    font-size: 20px;\n    padding: 0.5vh 20px;\n    font-weight: bold;\n  }\n"])),(function(e){return e.isOpen?"translateX(0)":"translateX(100%)"})),b=function(e){var t=e.isOpen,n=e.handleOpen;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,{isOpen:t,onClick:n}),o.a.createElement(v,{isOpen:t},o.a.createElement("div",{id:"head"},"Rewizja"),o.a.createElement(p.b,{to:"/czatu",draggable:"false"},o.a.createElement("li",null,o.a.createElement(f.a,{icon:m.a,style:{fontSize:"20px",paddingRight:"5px",borderRight:"2px solid #fff"}})," czatu")),o.a.createElement(p.b,{to:"/uzytkownika"},o.a.createElement("li",null,o.a.createElement(f.a,{icon:m.b,style:{fontSize:"20px",paddingRight:"5px",borderRight:"2px solid #fff"}})," u\u017cytkownika"))))},g=d.a.div(c||(c=Object(u.a)(["\n  width: 2rem;\n  height: 2rem;\n  position: absolute;\n  right: 20px;\n  z-index: 21;\n  display: flex;\n  justify-content: space-around;\n  flex-flow: column nowrap;\n  padding-right: 5px;\n  cursor: pointer;\n  div {\n    width: 2rem;\n    height: 0.25rem;\n\n    background-color: #fff;\n    border-radius: 10px;\n    transform-origin: 1px;\n    transition: all 0.3s linear;\n    &:nth-child(1) {\n      transform: ",";\n    }\n    &:nth-child(2) {\n      transform: ",";\n      opacity: ",";\n    }\n    &:nth-child(3) {\n      transform: ",";\n    }\n  }\n"])),(function(e){return e.isOpen?"rotate(45deg)":"rotate(0)"}),(function(e){return e.isOpen?"translateX(100%)":"translateX(0)"}),(function(e){return e.isOpen?0:1}),(function(e){return e.isOpen?"rotate(-45deg)":"rotate(0)"})),k=function(e){var t=e.isOpen,n=e.handleOpen;return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{isOpen:t,onClick:n},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)),o.a.createElement(b,{isOpen:t,handleOpen:n}))},E=function(e){var t=Object(s.useState)(!1),n=Object(h.a)(t,2),a=n[0],r=n[1];return o.a.createElement("header",null,o.a.createElement("h1",{id:"title"},"Rewizja ",e.desc),o.a.createElement(k,{isOpen:a,handleOpen:function(){return r(!a)}}))},j=n(15),O=n(3),C=n(4),y=n(6),x=n(5),S=n(23),U=n(9),z=n.n(U),I=n(11),D=function(e){Object(y.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.start!==e.start&&this.props.changeInfo(this.props.start)}},{key:"render",value:function(){return o.a.createElement("div",{id:"informator"},this.props.info)}}]),n}(s.Component),F=n(14),N=(n(25),n(26),function(e){Object(y.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"group"},o.a.createElement("input",{type:"text",name:this.props.name,value:this.props.value,onChange:this.props.handleChange,required:!0}),o.a.createElement("span",{className:"highlight"}),o.a.createElement("span",{className:"bar"}),o.a.createElement("label",null,this.props.label))}}]),n}(s.Component)),q=function(e){Object(y.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return o.a.createElement("form",{id:"inputs",method:"POST",onSubmit:this.props.handleSubmit},o.a.createElement(N,{name:"searchChat",value:this.props.searchChat,handleChange:this.props.handleChange,label:"Czat u\u017cytkownika"}),o.a.createElement(N,{name:"wantedChannel",value:this.props.wantedChannel,handleChange:this.props.handleChange,label:"Follow u u\u017cytkownika"}),o.a.createElement("div",{id:"container"},o.a.createElement(F.a,{content:"Najed\u017a na awatar \u017ceby pokaza\u0142a si\u0119 d\u0142ugo\u015b\u0107 follow'a",placement:"down",animation:"scale-subtle",arrow:!1,duration:200,delay:[75,0],distance:8},o.a.createElement("div",{id:"tooltip"},"?")),o.a.createElement("input",{type:"submit",id:"button",onClick:this.props.handleSubmit,value:"Rewiduj"})))}}]),n}(s.Component),L=function(e){var t=e.start,n=e.end,a=o.a.useState(0),r=Object(h.a)(a,2),c=r[0],s=r[1];return o.a.useEffect((function(){s(t/n*100)}),[t,n]),o.a.createElement("div",{id:"outerLoadingBar"},o.a.createElement("div",{id:"loadingBar",style:{width:0===n?0:"".concat(c,"%")}}))},T=function(e){e=e.substring(0,10),e=new Date(e);var t=new Date,n=new Date(t-Date.parse(e))/864e5;return n=Math.trunc(n)},V=function(e){Object(y.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).activate=Object(I.a)(z.a.mark((function e(){var t,n,r,c,s,o,i,l,h;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere-ascii.herokuapp.com/",t="https://tmi.twitch.tv/group/user/".concat(a.state.searchChat,"/chatters"),e.next=3,fetch("https://cors-anywhere-ascii.herokuapp.com/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:for(r=e.sent,c=r.chatters,s=c.viewers,o=c.vips,i=c.moderators,l=[].concat(Object(j.a)(s),Object(j.a)(o),Object(j.a)(i)),a.setState({allChatters:l.length}),h=0;h<l.length;h++)a.findID(l[h].toLowerCase());case 11:case"end":return e.stop()}}),e)}))),a.findID=function(){var e=Object(I.a)(z.a.mark((function e(t){var n,r,c,s,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,fetch("https://api.twitch.tv/kraken/users?login=".concat(t),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"k1c1q8lb5qd9oxn9cnfjnh2manhuo0"}});case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,s=Object(h.a)(c.users,1),o=s[0],a.insertToState(o._id,t,o.logo,n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.insertToState=function(){var e=Object(I.a)(z.a.mark((function e(t,n,r,c){var s,o,i,l,h,u,d,p;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,o=a.state.wantedChannel.toLowerCase(),r=r.replace(/300x300/,"70x70"),e.next=5,fetch("https://api.twitch.tv/kraken/users/".concat(t,"/follows/channels?limit=100&offset=").concat(100*c,"&sortby=last_broadcast"),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"k1c1q8lb5qd9oxn9cnfjnh2manhuo0"}});case 5:return i=e.sent,e.next=8,i.json();case 8:l=e.sent,0===(h=l.follows).length&&a.setState({checkedViewers:a.state.checkedViewers+1}),u=0;case 12:if(!(u<h.length)){e.next=26;break}if(h[u].channel.name!==o){e.next=22;break}return s=!0,a.setState({checkedViewers:a.state.checkedViewers+1,foundChatters:a.state.foundChatters+1}),d=T(h[u].created_at),p={nick:n,followLength:d,avatar:r},a.props.getUsers(p),e.abrupt("break",26);case 22:h.length-1===u&&h.length%100!==0&&a.setState({checkedViewers:a.state.checkedViewers+1});case 23:u++,e.next=12;break;case 26:100!==h.length||s||(c++,a.insertToState(t,n,r,c));case 27:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),a.changeInfo=function(e){a.setState({info:"Na czacie u\u017cytkownika ".concat(a.state.searchChat," jest ").concat(e," u\u017cytkownik\xf3w z follow'em u ").concat(a.state.wantedChannel)})},a.handleSubmit=function(e){e.preventDefault(),""!==a.state.searchChat&&""!==a.state.wantedChannel&&(a.setState({checkedViewers:0,allChatters:0,foundChatters:0,info:""}),a.props.clearUsers(),console.log(a.state),a.activate())},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(S.a)({},n,r.toLowerCase()))},a.state={wantedChannel:"",searchChat:"",allChatters:0,checkedViewers:0,foundChatters:0,info:""},a}return Object(C.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{id:"inputs"},o.a.createElement(q,{searchChat:this.state.searchChat,wantedChannel:this.state.wantedChannel,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),o.a.createElement(L,{end:this.state.allChatters,start:this.state.checkedViewers}),o.a.createElement(D,{changeInfo:this.changeInfo,info:this.state.info,start:this.state.foundChatters,searchChat:this.state.searchChat}))}}]),n}(s.Component),R=function(e){var t=e.users;return o.a.createElement("div",{id:"userList"},t.map((function(e,t){var n=e.avatar,a=e.nick,r=e.followLength;return o.a.createElement("div",{className:"userInfo",key:t+1},o.a.createElement("div",null,o.a.createElement("a",{href:"https://www.twitch.tv/".concat(a),target:"_blank",rel:"noopener noreferrer"},o.a.createElement(F.a,{content:o.a.createElement("span",{style:{fontSize:"25px"}},"".concat(r," dni")),placement:"left",animation:"scale-subtle",arrow:!1,duration:200,delay:[75,0],distance:8},o.a.createElement("img",{className:"avatarImage",loading:"lazy",src:n,alt:""})))),o.a.createElement("p",{className:"nick"},a))})))},_=function(e){Object(y.a)(n,e);var t=Object(x.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return o.a.createElement("form",{id:"inputs",method:"POST",onSubmit:this.props.handleSubmit},o.a.createElement(N,{name:"searchUser",value:this.props.searchUser,handleChange:this.props.handleChange,label:"Nazwa u\u017cytkownika"}),o.a.createElement("div",{id:"container"},o.a.createElement(F.a,{content:"Najed\u017a na awatar \u017ceby pokaza\u0142a si\u0119 d\u0142ugo\u015b\u0107 follow'a",placement:"down",animation:"scale-subtle",arrow:!1,duration:200,delay:[75,0],distance:8},o.a.createElement("div",{id:"tooltip"},"?")),o.a.createElement("input",{type:"submit",id:"button",onClick:this.props.handleSubmit,value:"Rewiduj"})))}}]),n}(s.Component),A=function(e){Object(y.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).findID=Object(I.a)(z.a.mark((function e(){var t,n,r,c,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,fetch("https://api.twitch.tv/kraken/users?login=".concat(a.state.searchUser),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"k1c1q8lb5qd9oxn9cnfjnh2manhuo0"}});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,c=Object(h.a)(r.users,1),s=c[0],a.insertToState(s._id,t);case 9:case"end":return e.stop()}}),e)}))),a.insertToState=function(){var e=Object(I.a)(z.a.mark((function e(t,n){var r,c,s,o,i,l,h;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 100,e.next=3,fetch("https://api.twitch.tv/kraken/users/".concat(t,"/follows/channels?limit=100&offset=").concat(100*n,"&sortby=last_broadcast"),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"k1c1q8lb5qd9oxn9cnfjnh2manhuo0"}});case 3:return r=e.sent,e.next=6,r.json();case 6:for(c=e.sent,s=c.follows,a.setState({allFollows:a.state.allFollows+s.length}),0===s.length&&a.setState({info:"".concat(a.state.searchUser," nie posiada \u017cadnego follow'a")}),o=0;o<s.length;o++)i=s[o].channel.logo.replace(/300x300/,"70x70"),a.setState({checkedFollows:a.state.checkedFollows+1}),l=T(s[o].created_at),h={nick:s[o].channel.name,followLength:l,avatar:i},a.props.getUsers(h);s.length%100!==0&&s.length%99!==0||(n++,a.insertToState(t,n));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.changeInfo=function(){a.setState({info:"".concat(a.state.searchUser," ma ").concat(a.state.allFollows," follow'\xf3w")})},a.handleSubmit=function(e){e.preventDefault(),""!==a.state.searchUser&&(a.setState({allFollows:0,checkedFollows:0,info:""}),a.props.clearUsers(),a.findID())},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(S.a)({},n,r.toLowerCase()))},a.state={searchUser:"",allFollows:0,checkedFollows:0},a}return Object(C.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{id:"inputs"},o.a.createElement(_,{handleChange:this.handleChange,handleSubmit:this.handleSubmit}),o.a.createElement(L,{start:this.state.checkedFollows,end:this.state.allFollows}),o.a.createElement(D,{changeInfo:this.changeInfo,info:this.state.info,start:this.state.checkedFollows,searchChat:this.state.searchChat}))}}]),n}(s.Component),B=n(2),X=function(e){Object(y.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).getUsers=function(e){a.setState({users:[].concat(Object(j.a)(a.state.users),[e])})},a.clearUsers=function(){a.setState({users:[]})},a.state={users:[]},a}return Object(C.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.clearUsers()}},{key:"render",value:function(){var e=this;return o.a.createElement("main",null,o.a.createElement(B.c,null,o.a.createElement(B.a,{path:"/",exact:!0,render:function(){return o.a.createElement(A,{users:e.state.users,getUsers:e.getUsers,clearUsers:e.clearUsers})}}),o.a.createElement(B.a,{path:"/czatu",render:function(){return o.a.createElement(V,{getUsers:e.getUsers,clearUsers:e.clearUsers})}}),o.a.createElement(B.a,{path:"/uzytkownika",render:function(){return o.a.createElement(A,{getUsers:e.getUsers,clearUsers:e.clearUsers})}})),o.a.createElement(R,{users:this.state.users}))}}]),n}(s.Component),J=Object(B.f)(X);var P=function(){return o.a.createElement("div",{className:"content"},o.a.createElement(p.a,null,o.a.createElement(B.c,null,o.a.createElement(B.a,{path:"/",exact:!0,render:function(){return o.a.createElement(E,{desc:"u\u017cytkownika"})}}),o.a.createElement(B.a,{path:"/czatu",render:function(){return o.a.createElement(E,{desc:"czatu"})}}),o.a.createElement(B.a,{path:"/uzytkownika",render:function(){return o.a.createElement(E,{desc:"u\u017cytkownika"})}})),o.a.createElement(J,null)))},W=function(){return o.a.createElement("footer",null,o.a.createElement("a",{href:"https://github.com/Jckpt/Twitch-check-follows-react",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("p",{id:"sourceCode"},"Source Code")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render([o.a.createElement(P,{key:"1"}),o.a.createElement(W,{key:"2"})],document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.d905b5dc.chunk.js.map